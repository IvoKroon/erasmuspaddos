<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>strings</title>
</head>
<body>
<canvas id="harp" width="500" height="400" style="background:#dddddd;"></canvas>

<script>
    function Rect(x, y, w, h) {
        this.x = x;
        this.y = y;
        this.width = w;
        this.height = h;

        return this;
    }


    // 4. create a new string rect
    function HarpString(rect) {
        this.x = rect.x;
        this.y = rect.y;
        this.width = rect.width;
        this.height = rect.height;

        return this;
    }

    // 6. Render all strings on screen
    HarpString.prototype.render = function(ctx) {
        ctx.beginPath();
        ctx.moveTo(this.x, this.y);
        ctx.bezierCurveTo(
                this.x,
                this.y + this.height / 2,

                this.x,
                this.y + this.height / 2,

                this.x,
                this.y + this.height
        );
        ctx.stroke();
    };


    // 2. create harp canvas
    function Harp(canvas, num) {
        // create array to hold string rects
        this.strings = [];

        // select canvas and context
        this.canvas = document.getElementById(canvas);
        this.ctx = this.canvas.getContext('2d');

        // set amount of strings to create
        this.stringNum = num;

        // create string rects
        this.create();

        // render harp object onto screen
        this.render();

        return this;
    }

    // 3. Create string rects and push them into array
    Harp.prototype.create = function() {
        for (var i = 0; i < this.stringNum; i++) {
            var rect = new Rect(10 + i * 20, 10, 10, 300);

            // create new string rect
            var newString = new HarpString(rect);

            this.strings.push(newString);
        }
    };

    // 5. render harp object on screen with all strings
    Harp.prototype.render = function() {
        for (var i = 0; i < this.stringNum; i++) {
            this.strings[i].render(this.ctx);
        }
    };

    // 1. initiate harp
    var harp = new Harp("harp", 16);
</script>

</body>
</html>