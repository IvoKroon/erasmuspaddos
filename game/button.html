<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Button Test</title>
</head>
<body>
<h1>BUTTON COLOR TEST</h1>
<canvas id="canvas" width="500" height="500" style="background:#dddddd;"></canvas>
<div id="color"></div>

<script>
    var colorOutput = document.getElementById('color');

    window.requestAnimFrame = (function() {
        return  window.requestAnimationFrame ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame ||
                window.oRequestAnimationFrame ||
                window.msRequestAnimationFrame ||
                function(callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
    })();

    function randomBetween(n1, n2) {
        return Math.floor((Math.random() * n2) + n1);
    }



    function Button(x, y, w, h, fill) {
        this.x = x;
        this.y = y;
        this.width = w;
        this.height = h;
        this.fill = fill;

        return this;
    }

    Button.prototype.render = function(ctx) {
        ctx.beginPath();
        ctx.rect(this.x, this.y, this.width, this.height);
        ctx.fillStyle = this.fill;
        ctx.fill();

        this.fill = this.fillColor();
    };

    Button.prototype.fillColor = function() {
        var cs    = this.fill,
            rgb   = cs.substring(cs.indexOf('(') + 1, cs.lastIndexOf(')')).split(/,\s*/),
            red   = parseInt(rgb[0]),
            green = parseInt(rgb[1]),
            blue  = parseInt(rgb[2]);

        red = (red > 0) ? red -= 9 : red = 0;
        green = (green < 200) ? green += 3 : green = 200;

        var colorString = "";
        colorString += "red: "   + red   + "<br />";
        colorString += "green: " + green + "<br />";
        colorString += "blue: "  + blue  + "<br />";

        colorOutput.innerHTML = colorString;

        return "rgb(" + red + "," + green + "," + blue + ")";
    };


    function Menu(canvasID, buttons) {
        this.buttons = [];
        this.buttonNum = buttons;
        this.canvas = document.getElementById(canvasID);
        this.ctx = this.canvas.getContext('2d');

        this.create();
        this.render();

        return this;
    }

    Menu.prototype.create = function() {
        for (var i = 0; i < this.buttonNum; i++) {
            var x = this.canvas.width/2 - (75*i),
                y = 100,
                b = new Button(x, y, 50, 50, "rgba(255, 0, 0, 1)");

            this.buttons.push(b);
        }
    };

    Menu.prototype.render = function() {
        var that = this;

        requestAnimFrame(function() {
            that.render();
        });

        for (var i = 0; i < this.buttonNum; i++) {
            this.buttons[i].render(this.ctx);
        }
    };

    var menu = new Menu("canvas", 2);
</script>
</body>
</html>